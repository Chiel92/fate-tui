#!python
"""Top level script which runs FATE."""
import os
import sys

# Make sure fate can be imported anywhere (also from the user script).
# This way we can:
# - run fate without having it installed
# - and thus easily test development source
# - have multiple fate packages, in case we would use multiple user interfaces.
path_to_fate = os.path.dirname(os.path.abspath(__file__)) + '/lib_fate/'
sys.path.insert(0, path_to_fate)

from tui.user_interface import UserInterface
import signal
import curses

def signal_handler(sig, frame):
    pass

# Intercept ctrl-c, ctrl-\ and ctrl-z
signal.signal(signal.SIGINT, signal_handler)
signal.signal(signal.SIGQUIT, signal_handler)
signal.signal(signal.SIGTSTP, signal_handler)

# Lower the annoying delay for the escape character
# VIM also uses 25 ms
os.environ['ESCDELAY'] = '25'

ui = UserInterface()
curses.wrapper(ui.main)
